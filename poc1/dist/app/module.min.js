angular.module("capapp",["mobile-angular-ui","ngRoute","ngMockE2E"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home/menu.html",controller:"capAppContoller"}).when("/profile",{templateUrl:"views/home/profile.html",controller:"capAppContoller"}).when("/login",{templateUrl:"views/home/login.html",controller:"loginCapAppContoller"}).otherwise({redirectTo:"/"})}]).constant("config",{API_URL:"https://capapp.azurewebsites.net/api",AUTH_URL:"https://capapp.azurewebsites.net/oauth",peoplefinder:{url:"/people"},carpool:{url:"/carpool"},clarity:{url:"/clarity"},linkedin:{url:""}}),angular.module("capapp").controller("capAppContoller",["$log","$scope","$http","config","capAppService",function(a,b,c,d,e){a.debug("init capAppContoller");var f=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=["January","Februari","March","April","May","June","July","August","September","October","November","December"];b.day=f[(new Date).getDay()],b.date=(new Date).getDate()+" "+g[(new Date).getMonth()],a.debug("User",e.user),b.user=e.user,b.user.pictureUrl="images/dagmarvanpelt.jpg",b.color=function(a){return color={0:"color0",1:"color1",2:"color2",3:"color3"},color[a%4]},b.saveProfile=function(){c.put("http://localhost:8080/capapi/api/users/me",b.user).success(function(){a.debug("Saved Profile")})},b.showFooter=!0,window.addEventListener("native.keyboardshow",function(a){b.showFooter=!1,b.$apply()}),window.addEventListener("native.keyboardhide",function(a){b.showFooter=!0,b.$apply()})}]),angular.module("capapp").filter("moduleFilter",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]?1:-1}),c&&d.reverse(),d}}),angular.module("capapp").service("capAppService",function(){this.user={}});